import{URL,loginMdl,newTokenData,isJson,LiveLoader,ht}from"../script.js";const bodyLoader=new LiveLoader;function isBlank(e){return!e||/^\s*$/.test(e)}bodyLoader.addIdSelector("[name='last_article_id']"),bodyLoader.addBtn("#load-more-articles"),bodyLoader.addParams({query:document.querySelector("[name='query']").value}),bodyLoader.addEndPoint("ajax/explore/load-article-results"),bodyLoader.addListener(e=>{Object.entries(e.articles).forEach(([e,a])=>{const n=a,t=(n.article_id,isBlank(n.preview_img)?"":`<img src="${n.preview_img}" class="preview-img pb-3" alt="...">`),s=n.article_id;document.querySelector(".articles-container").innerHTML+=`\n          <div class="p-1">\n              <div class="card-body row">\n                  <div class="col-12 ms-2">\n                      ${t}\n                      <br>\n                      <a class='mb-3 d-block h3 text-decoration-none text-dark' href="${URL}/article?a=${s}">${ht(n.title,100)}</a>\n                      <small class="text-muted mb-4 d-block">Published ${n.created_at}</small>\n                      <p class="text-muted" style='font-size: 17px'>${ht(n.tagline,300)}</p>\n                      <p class='article-content'>${ht(n.content,1e3)}</p>\n                      \n                      ${n.view_count} <i class="fas fa-eye"></i>\n\n                      <span class='d-inline-block float-end me-2'>\n                        ${n.comments_count} <i class="fas fa-comment"></i>\n                      </span>\n                  </div>\n                  <hr class='my-4'>\n              </div>\n          </div>\n          <br>\n          `})});